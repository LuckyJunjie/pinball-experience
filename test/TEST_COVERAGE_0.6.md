# 0.6 Skill Shot - 完整测试覆盖

## 测试矩阵

### 1. 单元测试 (Unit Tests)

| ID | 测试名称 | 测试内容 | 预期结果 |
|----|----------|----------|-----------|
| UT-0.6-01 | 初始状态 | is_active初始值 | false |
| UT-0.6-02 | 初始时间 | time_remaining初始值 | 0.0 |
| UT-0.6-03 | 初始分数 | points初始值 | 1000000 |
| UT-0.6-04 | 激活测试 | activate()调用 | is_active=true |
| UT-0.6-05 | 激活时间 | activate()后 | time_remaining>0 |
| UT-0.6-06 | 停用测试 | deactivate()调用 | is_active=false |
| UT-0.6-07 | 超时测试 | 3.5秒后 | is_active=false |
| UT-0.6-08 | 重置测试 | 超时后时间 | time_remaining=0 |
| UT-0.6-09 | 重复激活 | 连续activate() | 正常响应 |
| UT-0.6-10 | 配置修改 | 修改activation_time | 使用新值 |

### 2. 集成测试 (Integration Tests)

| ID | 测试名称 | 测试内容 | 预期结果 |
|----|----------|----------|-----------|
| IT-0.6-01 | 得分集成 | 击中+得分 | round_score+=1M |
| IT-0.6-02 | 窗口外 | 过期后击中 | 无得分 |
| IT-0.6-03 | 信号发射 | 击中发射hit信号 | hit信号触发 |
| IT-0.6-04 | GameManager集成 | add_score调用 | 正确累加 |
| IT-0.6-05 | 多球测试 | 多球同时 | 只计一次 |
| IT-0.6-06 | 回合重置 | 新回合开始 | 状态重置 |

### 3. 截图测试 (Screenshot Tests)

| ID | 测试名称 | 测试内容 | 预期结果 |
|----|----------|----------|-----------|
| SS-0.6-01 | 激活状态 | 激活时截图 | 黄色高亮 |
| SS-0.6-02 | 击中效果 | 击中时截图 | 绿色闪烁 |
| SS-0.6-03 | 过期状态 | 过期时截图 | 正常颜色 |
| SS-0.6-04 | 场景布局 | 完整截图 | SkillShot可见 |

### 4. E2E测试 (End-to-End Tests)

| ID | 测试名称 | 测试内容 | 预期结果 |
|----|----------|----------|-----------|
| E2E-0.6-01 | 完整流程 | 发射→击中→得分→结束 | 正常完成 |
| E2E-0.6-02 | 漏掉技能 | 发射→未击中→过期 | 正常进行 |
| E2E-0.6-03 | 多回合 | 3回合都击中技能 | 得分正确累加 |
| E2E-0.6-04 | 游戏结束 | 技能射击后游戏结束 | 状态正确 |

---

## 边界条件测试

### 边界条件

| 条件 | 测试 | 预期 |
|------|------|------|
| 激活瞬间击中 | activate()后立即击中 | +1M分 |
| 过期瞬间击中 | time_remaining=0时击中 | +0分 |
| 0秒激活时间 | activation_time=0 | 不激活 |
| 负时间 | activation_time<0 | 正常处理 |

---

## 性能测试

| 项目 | 目标 | 测试 |
|------|------|------|
| 响应延迟 | <16ms | 激活响应时间 |
| 计时精度 | ±50ms | 超时精度 |
| 内存占用 | <10MB | 长期运行 |

---

## 兼容性测试

| 平台 | 测试 | 状态 |
|------|------|------|
| Windows | 本地运行 | 待验证 |
| macOS | 本地运行 | 待验证 |
| Linux/树莓派 | CI运行 | 待验证 |
| Web导出 | HTML5 | 待验证 |
