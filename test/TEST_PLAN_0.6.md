# Pinball-Experience Test Plan 0.6 - Skill Shot

**Version:** 0.6  
**Date:** 2026-02-28  
**Feature:** Skill Shot  
**Project:** pinball-experience

---

## 功能描述

- **Skill Shot:** 目标区域在发射后 2-3 秒内 "active"
- 如果球在 active 期间击中 → 奖励 1,000,000 分
- 之后 inactive，直到下次发射

---

## 四层测试体系

| 层级 | 测试类型 | 工具 |
|------|----------|------|
| 第一层 | 单元测试 | GUT/GdUnit4 |
| 第二层 | 集成测试 | 内置脚本 |
| 第三层 | 截图测试 | GDSnap |
| 第四层 | 性能测试 | Profiler |

---

## 测试用例

### 第一层: 单元测试

| ID | 测试用例 | 预期结果 |
|----|----------|----------|
| 0.6.1 | SkillShot 节点存在 | 场景中有 SkillShot 节点 |
| 0.6.2 | SkillShot 位置正确 | 在发射路径上 |
| 0.6.3 | 积分常量正确 | SKILL_SHOT_POINTS = 1000000 |

### 第二层: 集成测试

| ID | 测试用例 | 预期结果 |
|----|----------|----------|
| 0.6.4 | 发射后激活 | 球发射后 skill_shot_active = true |
| 0.6.5 | 窗口期内击中 | 窗口期内击中 +1M 分 |
| 0.6.6 | 窗口期后无效 | 窗口期后击中不加分 |
| 0.6.7 | 窗口期超时 | 2-3秒后自动失效 |

### 第三层: 截图测试

| ID | 测试用例 | 预期结果 |
|----|----------|----------|
| 0.6.8 | 技能 shot 激活截图 | 显示激活状态 |
| 0.6.9 | 击中得分截图 | 显示 +1M 弹出 |

---

## 实现状态

| ID | 状态 | 说明 |
|----|------|------|
| 0.6.1 | ⚠️ 待实现 | 需创建 SkillShot 节点 |
| 0.6.2 | ⚠️ 待实现 | 需创建 SkillShot 节点 |
| 0.6.3 | ⚠️ 待实现 | 需实现 |
| 0.6.4 | ⚠️ 待实现 | 需实现 |
| 0.6.5 | ⚠️ 待实现 | 需实现 |
| 0.6.6 | ⚠️ 待实现 | 需实现 |
| 0.6.7 | ⚠️ 待实现 | 需实现 |
| 0.6.8 | ⚠️ 待实现 | 需实现 |
| 0.6.9 | ⚠️ 待实现 | 需实现 |

---

## 运行测试

```bash
# 运行 0.6 测试
DISPLAY=:99 godot --headless --path . -s test/test_skill_shot.gd
```
